<% if(locals?.passwordchanged){ %>
<div class="alert alert-warning alert-dismissible fade show" role="alert">
    <strong>Holy guacamole!</strong> password has been changed
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
<% } %>
<% if(locals?.passworderror){ %>
    <div class="alert alert-warning alert-dismissible fade show" role="alert">
        <strong>Holy guacamole!</strong> current password is wrong
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
<% } %>
<div>
    <h1>User Details</h1>
    <button style="float: right;" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal2">
        change password
      </button>
</div>
<hr>
<div>
    <h3>Firstname</h3>
    <h3>Email</h3>
    <h3>Phone</h3>
</div>





<div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel2">Change Password</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" >
            <form action="/user/changepassword" id="passchange" method="POST" onsubmit="return passwordcheck()">
                <div class="row mb-3">
                    <label for="inputPassword3" class="col-sm-2 col-form-label">Old Password</label>
                    <div class="col-sm-10">
                      <input required type="password" name="old" class="form-control">
                    </div>
                </div>
                <div class="row mb-3">
                    <label for="inputPassword3" class="col-sm-2 col-form-label">New Password</label>
                    <div class="col-sm-10">
                      <input required type="password" name="new" id="new" class="form-control">
                    </div>
                </div>
                <div class="row mb-3">
                    <label for="inputPassword3" class="col-sm-2 col-form-label">Reenter New Password</label>
                    <div class="col-sm-10">
                      <input required type="password" id="re" class="form-control">
                    </div>
                </div>
            </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="submit" form="passchange" class="btn btn-primary">Change Password</button>
        </div>
      </div>
    </div>
  </div>
  <script>
    function passwordcheck(){
        let ne=document.getElementById('new')
        let re=document.getElementById('re')
        if(ne.value!=re.value){
            return false
        }else{
            return true
        }
    }
  </script>

